<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>A5 Whiteboard Survey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="toolbar" role="toolbar" aria-label="Drawing toolbar">
    <div class="tool-group">
      <button id="penBtn" class="btn active" data-tool="pen" aria-pressed="true" title="Pen (P)">✏️ Pen</button>
      <button id="eraserBtn" class="btn" data-tool="eraser" aria-pressed="false" title="Eraser (E)">🩹 Eraser</button>
    </div>

    <div class="tool-group">
      <label for="size" class="label">Size</label>
      <input id="size" type="range" min="1" max="60" value="8" />
      <span id="sizeValue" class="mono">8 px</span>
    </div>

    <!-- Colour controls -->
    <div class="tool-group color-group">
      <canvas id="colorWheel" width="140" height="140" aria-label="Colour wheel picker"></canvas>
      <div class="swatch-column">
        <div class="swatch-row">
          <span class="label">Colour</span>
          <input id="colorHex" type="text" value="#111111" class="hex" maxlength="9" title="Hex or CSS color (e.g. #ff00aa or rgba(0,0,0,.7))" />
        </div>
        <div class="swatch" id="currentSwatch" title="Current pen colour"></div>
      </div>
    </div>

    <div class="tool-group">
      <button id="undoBtn" class="btn" title="Undo (Ctrl/Cmd+Z)">↩️ Undo</button>
      <button id="redoBtn" class="btn" title="Redo (Ctrl/Cmd+Shift+Z / Ctrl+Y)">↪️ Redo</button>
      <button id="clearBtn" class="btn" title="Clear current page (C)">🧹 Clear</button>
    </div>

    <div class="tool-group">
      <input id="sessionName" class="hex" placeholder="session name (e.g. classA-01)" value="default" />
      <button id="addPageBtn" class="btn" title="Add A5 page (N)">➕ Add Page</button>
      <button id="saveBtn" class="btn" title="Save pages to this session (S)">💾 Save</button>
      <button id="loadBtn" class="btn" title="Load this session (L)">📂 Load</button>
      <button id="exportBtn" class="btn" title="Export current page as PNG (D)">🖼️ Export PNG</button>
    </div>
  </header>

  <main class="workspace">
    <aside class="sidebar" aria-label="Pages">
      <div class="pages-header">
        <h2>Pages</h2>
        <small class="muted">A5 portrait</small>
      </div>
      <ol id="pagesList" class="pages-list" role="tablist" aria-orientation="vertical"></ol>
    </aside>

    <section class="stage" aria-live="polite">
      <div id="pageStage" class="page-stage"></div>
    </section>
  </main>

  <footer class="footer">
    <small>
      Keys: <strong>P</strong>=pen, <strong>E</strong>=eraser, <strong>[</strong>/<strong>]</strong>=size,
      <strong>N</strong>=add page, <strong>C</strong>=clear,
      <strong>S</strong>=save, <strong>L</strong>=load,
      <strong>D</strong>=export PNG,
      <strong>Undo</strong>=Ctrl/Cmd+Z, <strong>Redo</strong>=Ctrl/Cmd+Shift+Z or Ctrl+Y.
      Sessions are saved privately in IndexedDB on this device.
    </small>
  </footer>

  <script src="./script.js"></script>
</body>
</html>
