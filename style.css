:root{
  /* Responsive scale tokens */
  --ui: clamp(12px, 1.4dvh, 18px);             /* base text size */
  --gap: clamp(6px, 1.2dvh, 12px);             /* spacing */
  --btn: clamp(38px, 7dvh, 64px);              /* square button size */
  --rad: clamp(10px, 1.6dvh, 16px);            /* corner radius */
  --panel-pad: clamp(8px, 1.2dvh, 12px);

  --bg:#0e0f12;
  --panel:#17191f;
  --ink:#e6e8ef;
  --muted:#9aa0b5;
  --accent:#65d7c1;
  --shadow:0 8px 30px rgba(0,0,0,.35);
}

*{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
html, body{
  height:100dvh;
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font: var(--ui)/1.35 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  overflow:hidden; /* no outer scrollbars */
}

/* Stage fills the entire screen */
.stage{
  position:fixed; inset:0;
  padding: max(env(safe-area-inset-top), 0px) max(env(safe-area-inset-right), 0px)
           max(env(safe-area-inset-bottom), 0px) max(env(safe-area-inset-left), 0px);
}
.page-stage{
  width:100%; height:100%;
  display:grid; place-items:center;
}
.page-canvas{
  background:#fff;
  border-radius: clamp(8px, 1.2dvh, 14px);
  box-shadow:0 10px 30px rgba(0,0,0,.45);
  touch-action:none;
}

/* ===== Floating dock (always visible) ===== */
.mobile-dock{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom: calc( max(env(safe-area-inset-bottom), 0px) + var(--gap) );
  z-index:50; display:flex; flex-wrap:wrap; align-items:center; gap:var(--gap);
  background:rgba(10,12,16,.92);
  border:1px solid rgba(255,255,255,.08);
  padding: var(--panel-pad);
  border-radius: var(--rad);
  backdrop-filter: blur(6px);
  box-shadow:0 8px 24px rgba(0,0,0,.45);
}

.dock-btn{
  appearance:none; border:none; cursor:pointer;
  width:var(--btn); height:var(--btn);
  border-radius: calc(var(--rad) - 2px);
  color:#e9ecf5; background:#222633;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
  font-size: clamp(16px, 2.6dvh, 22px);
  display:grid; place-items:center;
}
.dock-btn:active{ transform:translateY(1px); }
.dock-btn.active{ outline:2px solid var(--accent); }

.dock-label{
  padding: 0 0.4em;
  min-width: clamp(36px, 6dvh, 72px);
  text-align:center;
  color: var(--muted);
  font-weight:600;
}

/* native color input sized to the dock */
.dock-color input[type="color"]{
  -webkit-appearance:none; appearance:none;
  width:var(--btn); height:var(--btn);
  border:none; padding:0; background:none;
  border-radius: calc(var(--rad) - 2px);
  overflow:hidden; box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
}

/* dropdown menu above the dock */
.dock-menu{
  position:absolute;
  bottom: calc( var(--btn) + var(--gap) + 6px );
  right: var(--panel-pad);
  background:#161922; border:1px solid rgba(255,255,255,.08);
  border-radius: var(--rad); box-shadow:0 10px 26px rgba(0,0,0,.5);
  padding: var(--panel-pad); display:flex; flex-direction:column; gap: var(--gap);
}
.dock-menu-item{
  appearance:none; border:none; cursor:pointer;
  padding: calc(var(--panel-pad) - 2px) calc(var(--panel-pad) + 4px);
  border-radius: calc(var(--rad) - 2px);
  color:#e9ecf5; background:#24293a; text-align:left;
  font-size: inherit;
}
.dock-menu-item:hover{ background:#2c3247; }

/* ===== Corner actions tab (top-left) ===== */
.corner-panel{
  position:fixed;
  top: calc( max(env(safe-area-inset-top), 0px) + var(--gap) );
  left: calc( max(env(safe-area-inset-left), 0px) + var(--gap) );
  z-index:80;
}
.corner-toggle{
  appearance:none; border:none; cursor:pointer;
  width:var(--btn); height:var(--btn); border-radius: var(--rad);
  background:#222633; color:#e6e8ef;
  box-shadow:0 6px 18px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.08);
  font-size: clamp(18px, 3dvh, 24px);
}
.corner-content{
  margin-top: var(--gap);
  min-width: clamp(220px, 40vw, 360px);
  padding: var(--panel-pad);
  background:rgba(15,17,23,.96);
  border:1px solid rgba(255,255,255,.08);
  border-radius: var(--rad);
  box-shadow:0 12px 28px rgba(0,0,0,.5);
}
.corner-row{ display:flex; align-items:center; gap: var(--gap); margin-bottom: var(--gap); }
.corner-label{ color:#9aa0b5; font-size: 0.9em; }
.corner-input{
  flex:1; min-width:0;
  padding: calc(var(--panel-pad) - 2px) calc(var(--panel-pad) + 2px);
  border-radius: calc(var(--rad) - 2px);
  border:1px solid rgba(255,255,255,.08);
  background:#0f131d; color:#e6e8ef;
  font: inherit;
}
.corner-actions{ display:flex; gap: var(--gap); flex-wrap:wrap; }
.corner-btn{
  appearance:none; border:none; cursor:pointer;
  padding: calc(var(--panel-pad) - 2px) calc(var(--panel-pad) + 4px);
  border-radius: calc(var(--rad) - 2px);
  background:#24293a; color:#e6e8ef;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
  font: inherit;
}
.corner-btn:hover{ background:#2c3247; }
